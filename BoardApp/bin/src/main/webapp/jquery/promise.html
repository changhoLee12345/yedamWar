<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jquery/promise.html</title>
</head>
<body>
  <!-- XMLHttpRequest, fetch, async/await -->
  <script>
    fetch('url') // promise
    .then(function(result) {
    	return result.json(); // json => object.
    })
    .then(function(result) {
    	// 화면상에 요소 생성.
    })
    .then(function(result) {
    	
    })
    .catch(function(err) {
    	
    })
    
    // Promise 객체.
    const p1 = new Promise(function(resolve, reject) {
    	setTimeout(function() {
    		resolve('OK')
    		//reject('NG');
    	}, 1000);//
    });
    
    const p2 = p1.then(function(result) {
    	console.log('then: ', result);
    	consoles.log('error');
    	return 'hello'; // Promise객체로 반환.
    })
   
    const p3 = p2.then(function(result) {
    	console.log('then2: ', result);
    	//return 'world';
    	return new Promise(function(resolve, reject) {
    		let message = "message";
    		resolve(message);
    		//reject(message);
    	});
    })
   
    p3.then(function(result) {
    	console.log('then3: ', result);
    }).catch(function(err) {
    	console.error('catch3: ', err);
    });
    
  </script>
</body>
</html>